# ABI Banking

ABI Banking - это современная банковская система, разработанная с использованием Go и PostgreSQL. Система предоставляет полный набор банковских услуг, включая управление счетами, кредитами, картами и аналитикой.

## Основные возможности

### Управление пользователями
- Регистрация и аутентификация пользователей
- Управление профилем пользователя
- Безопасное хранение данных

### Управление счетами
- Создание и управление банковскими счетами
- Переводы между счетами
- Вклады и снятия средств
- Поддержка различных валют

### Кредитные операции
- Создание кредитных продуктов
- Управление кредитами
- Платежные графики
- Автоматический расчет процентов
- Отслеживание статуса кредита

### Управление картами
- Выпуск банковских карт
- Блокировка/разблокировка карт
- Управление статусом карт
- Безопасное хранение данных карт

### Аналитика
- Анализ транзакций
- Кредитная аналитика
- Статистика по счетам
- Отчеты по операциям

## Технологический стек

- **Backend**: Go
- **База данных**: PostgreSQL
- **Логирование**: Logrus
- **Маршрутизация**: Gorilla Mux
- **Аутентификация**: JWT

## Структура проекта

```
abi_banking/
├── cmd/                    # Точка входа приложения
├── internal/              # Внутренние пакеты
│   ├── config/           # Конфигурация приложения
│   ├── database/         # Работа с базой данных
│   ├── handlers/         # HTTP обработчики
│   ├── middleware/       # Промежуточное ПО
│   ├── models/           # Модели данных
│   ├── repository/       # Репозитории для работы с БД
│   ├── router/           # Маршрутизация
│   └── service/          # Бизнес-логика
├── migrations/           # Миграции базы данных
└── pkg/                  # Публичные пакеты
```

## Требования

- Go 1.21 или выше
- PostgreSQL 15 или выше
- Docker (опционально, для разработки)

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone https://github.com/Abigotado/abi_banking.git
cd abi_banking
```

2. Установите зависимости:
```bash
go mod download
```

3. Настройте базу данных:
```bash
# Создайте базу данных PostgreSQL
createdb abi_banking

# Примените миграции
go run cmd/migrate/main.go
```

4. Запустите приложение:
```bash
go run cmd/main.go
```

## Конфигурация

Основные настройки приложения находятся в файле `config.yaml`:

```yaml
app:
  port: "8080"
  env: "development"

database:
  host: "localhost"
  port: 5432
  user: "postgres"
  password: "postgres"
  name: "abi_banking"
  ssl_mode: "disable"

log:
  level: "info"
```

## API Документация

### Пользователи
- `POST /api/v1/users/register` - Регистрация пользователя
- `POST /api/v1/users/login` - Вход в систему

### Счета
- `POST /api/v1/accounts` - Создание счета
- `GET /api/v1/accounts/{id}` - Получение счета
- `GET /api/v1/users/{id}/accounts` - Получение счетов пользователя
- `POST /api/v1/accounts/transfer` - Перевод между счетами

### Кредиты
- `POST /api/v1/credits` - Создание кредита
- `GET /api/v1/credits/{id}` - Получение кредита
- `GET /api/v1/users/{id}/credits` - Получение кредитов пользователя
- `POST /api/v1/credits/{id}/pay` - Оплата кредита

### Карты
- `POST /api/v1/cards` - Создание карты
- `GET /api/v1/cards/{id}` - Получение карты
- `GET /api/v1/users/{id}/cards` - Получение карт пользователя
- `POST /api/v1/cards/{id}/block` - Блокировка карты
- `POST /api/v1/cards/{id}/unblock` - Разблокировка карты

## Безопасность

- Все пароли хешируются с использованием bcrypt
- Данные карт шифруются
- Используется JWT для аутентификации
- Все API эндпоинты защищены middleware

## Разработка

### Стиль кода
- Следуйте стандартным соглашениям Go
- Используйте gofmt для форматирования кода
- Пишите тесты для нового функционала

### Тестирование
```bash
# Запуск всех тестов
go test ./...

# Запуск тестов с покрытием
go test -cover ./...
```

## Лицензия

MIT License 